{% comment %}
  Renders a product special element with a given value

  Accepts:
  - block: {Object} Block (required)

  Usage:
  {% render 'product-specification-11', block: block %}
{% endcomment %}

<div class='product-specification-11'>
  <div class='product-specification-11__content'>
    <div class='product-specification-11__desktop'>
      <div class='product-specification-11__row'>
        <xo-animate xo-cascade>
          <div class='product-specification-11__chart'>
            {% for item in block %}
              {% case item.type %}
                {% when 'chart' %}
                  {% liquid
                    assign title = item.settings.title
                    assign value_max = item.settings.value_max

                    assign dataset_input = item.settings.dataset
                    assign dataset_arr = dataset_input | newline_to_br | split: '<br />'

                    assign x_label_input = item.settings.x_label
                    assign x_label_items = x_label_input | split: ' '
                    assign x_label_arr = x_label_items | join: "', '"
                    assign x_label_output = "['" | append: x_label_arr | append: "']"

                    assign y_label_input = item.settings.y_label
                    assign y_label_items = y_label_input | split: ' '
                    assign y_label_arr = y_label_items | join: "', '"
                    assign y_label_output = "['" | append: y_label_arr | append: "']"

                    assign list_information = item.settings.list_information
                  %}
                  {% render 'chart-1',
                    title: title,
                    value_max: value_max,
                    dataset_arr: dataset_arr,
                    x_label_output: x_label_output,
                    y_label_output: y_label_output,
                    list_information: list_information,
                    margin: 25
                  %}
              {% endcase %}
            {% endfor %}
          </div>
        </xo-animate>
      </div>
      <div class='product-specification-11__row product-specification-11__row--second'>
        <div class='product-specification-11__grid'>
          <div class='product-specification-11__product'>
            {% for item in block %}
              {% case item.type %}
                {% when 'product' %}
                  {%- assign placeholder_image = 'collection-1' -%}
                  {% render 'product-card',
                    product: item.settings.product,
                    show_image: settings.product_card_show_image,
                    show_secondary_image: settings.product_card_show_secondary_image,
                    show_vendor: settings.product_card_show_vendor,
                    show_description: settings.product_card_show_description,
                    show_quick_add: settings.product_card_show_quick_add,
                    show_quick_view: settings.product_card_show_quick_view,
                    show_favorite: settings.product_card_show_favorite,
                    show_price: settings.product_card_show_price,
                    show_badge: settings.product_card_show_badge,
                    media_aspect_ratio: item.settings.product_card_aspect_ratio,
                    color_scheme: item.settings.card_color_scheme,
                    placeholder_image: placeholder_image,
                    animate_enabled: true,
                    product_handle: true
                  -%}
              {% endcase %}
            {% endfor %}
          </div>
          <div class='product-specification-11__collection'>
            {% for item in block %}
              {% case item.type %}
                {% when 'collection' %}
                  {% liquid
                    assign button = item.settings
                    assign collection = item.settings.collection
                    assign image_desktop = item.settings.image_dt
                    assign image_mobile = item.settings.image_mb
                  %}
                  {% render 'collection-image', collection: collection, show_button: true, button: button, image_desktop: image_desktop, image_mobile: image_mobile %}
              {% endcase %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div class='product-specification-11__mobile'>
      <xo-carousel
        xo-per-view='1'
        xo-per-move='1'
        xo-breakpoints='
          {
            767: {
              perView: 1,
              perMove: 1,
              gap: 10,
              overflow: "visible"
            },
            768: {
              perView: 2,
              perMove: 1,
              gap: 10,
              overflow: "visible"
            },
          }
        '
      >
        <xo-carousel-inner>
          <xo-carousel-list>
            <xo-carousel-slide>
              <div class='product-specification-11__chart'>
                {% for item in block %}
                  {% case item.type %}
                    {% when 'chart' %}
                      {% liquid
                        assign title = item.settings.title
                        assign value_max = item.settings.value_max

                        assign dataset_input = item.settings.dataset
                        assign dataset_arr = dataset_input | newline_to_br | split: '<br />'

                        assign x_label_input = item.settings.x_label
                        assign x_label_items = x_label_input | split: ' '
                        assign x_label_arr = x_label_items | join: "', '"
                        assign x_label_output = "['" | append: x_label_arr | append: "']"

                        assign y_label_input = item.settings.y_label
                        assign y_label_items = y_label_input | split: ' '
                        assign y_label_arr = y_label_items | join: "', '"
                        assign y_label_output = "['" | append: y_label_arr | append: "']"

                        assign list_information = item.settings.list_information
                      %}
                      {% render 'chart-1',
                        title: title,
                        value_max: value_max,
                        dataset_arr: dataset_arr,
                        x_label_output: x_label_output,
                        y_label_output: y_label_output,
                        list_information: list_information,
                        margin: 25
                      %}
                  {% endcase %}
                {% endfor %}
              </div>
            </xo-carousel-slide>
            <xo-carousel-slide>
              <div class='product-specification-11__product'>
                {% for item in block %}
                  {% case item.type %}
                    {% when 'product' %}
                      {%- assign placeholder_image = 'collection-1' -%}
                      {% render 'product-card',
                        product: item.settings.product,
                        show_image: settings.product_card_show_image,
                        show_secondary_image: settings.product_card_show_secondary_image,
                        show_vendor: settings.product_card_show_vendor,
                        show_description: settings.product_card_show_description,
                        show_quick_add: settings.product_card_show_quick_add,
                        show_quick_view: settings.product_card_show_quick_view,
                        show_favorite: settings.product_card_show_favorite,
                        show_price: settings.product_card_show_price,
                        show_badge: settings.product_card_show_badge,
                        media_aspect_ratio: item.settings.product_card_aspect_ratio,
                        color_scheme: item.settings.card_color_scheme,
                        placeholder_image: placeholder_image,
                        product_handle: true
                      -%}
                  {% endcase %}
                {% endfor %}
              </div>
            </xo-carousel-slide>
            <xo-carousel-slide>
              <div class='product-specification-11__collection'>
                {% for item in block %}
                  {% case item.type %}
                    {% when 'collection' %}
                      {% liquid
                        assign button = item.settings
                        assign collection = item.settings.collection
                        assign image_desktop = item.settings.image_dt
                        assign image_mobile = item.settings.image_mb
                      %}
                      {% render 'collection-image',
                        collection: collection,
                        show_button: true,
                        button: button,
                        image_desktop: image_desktop,
                        image_mobile: image_mobile,
                        animate_enabled: false
                      %}
                  {% endcase %}
                {% endfor %}
              </div>
            </xo-carousel-slide>
          </xo-carousel-list>
        </xo-carousel-inner>
      </xo-carousel>
    </div>
  </div>
</div>
